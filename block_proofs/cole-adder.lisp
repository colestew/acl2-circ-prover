(ld "v-adder-example.lisp")

(defun f74182-netlist (c~ p0 p1 p2 p3 g0 g1 g2 g3)
  (let* (;; output for P in w4
         (w0 p0)
         (w1 p1)
         (w2 p2)
         (w3 p3)
         (w4 (or w0 w1 w2 w3))

         ;; output for g in w13
         (w5 g0)
         (w6 g1)
         (w7 g2)
         (w8 g3)
         (w9 (and w5 w6 w7 w8))
         (w10 (and w6 w7 w8 w1))
         (w11 (and w7 w8 w2))
         (w12 (and w3 w8))
         (w13 (or w9 w10 w11 w12))

         ;; output for c~+z in w19
         (w14 (not c~))
         (w15 (and w14 w5 w6 w7))
         (w16 (and w5 w6 w7 w0))
         (w17 (and w6 w7 w1))
         (w18 (and w7 w2))
         (w19 (nor w15 w16 w17 w18))

         ;; output for c~+y in w23
         (w20 (and w14 w5 w6))
         (w21 (and w5 w6 w0))
         (w22 (and w1 w6))
         (w23 (nor w20 w21 w22))

         ;; output for c~+x in w26
         (w24 (and w14 w5))
         (w25 (and w5 w0))
         (w26 (nor w24 w25))

         ;; outputs of 74182
         (p~ w4)
         (g~ w13)
         (c~+z w19)
         (c~+y w23)
         (c~+x w26))
    (list p~ g~ c~+z c~+y c~+x)))

;; note s is (t nil nil t) for 181
(defun look-ahead-carry-32 (a b)
  (let* ((a0 (nth 0 a))
         (a1 (nth 1 a))
         (a2 (nth 2 a))
         (a3 (nth 3 a))
         (a4 (nth 4 a))
         (a5 (nth 5 a))
         (a6 (nth 6 a))
         (a7 (nth 7 a))
         (a8 (nth 8 a))
         (a9 (nth 9 a))
         (a10 (nth 10 a))
         (a11 (nth 11 a))
         (a12 (nth 12 a))
         (a13 (nth 13 a))
         (a14 (nth 14 a))
         (a15 (nth 15 a))
         (a16 (nth 16 a))
         (a17 (nth 17 a))
         (a18 (nth 18 a))
         (a19 (nth 19 a))
         (a20 (nth 20 a))
         (a21 (nth 21 a))
         (a22 (nth 22 a))
         (a23 (nth 23 a))
         (a24 (nth 24 a))
         (a25 (nth 25 a))
         (a26 (nth 26 a))
         (a27 (nth 27 a))
         (a28 (nth 28 a))
         (a29 (nth 29 a))
         (a30 (nth 30 a))
         (a31 (nth 31 a))
         (b0 (nth 0 b))
         (b1 (nth 1 b))
         (b2 (nth 2 b))
         (b3 (nth 3 b))
         (b4 (nth 4 b))
         (b5 (nth 5 b))
         (b6 (nth 6 b))
         (b7 (nth 7 b))
         (b8 (nth 8 b))
         (b9 (nth 9 b))
         (b10 (nth 10 b))
         (b11 (nth 11 b))
         (b12 (nth 12 b))
         (b13 (nth 13 b))
         (b14 (nth 14 b))
         (b15 (nth 15 b))
         (b16 (nth 16 b))
         (b17 (nth 17 b))
         (b18 (nth 18 b))
         (b19 (nth 19 b))
         (b20 (nth 20 b))
         (b21 (nth 21 b))
         (b22 (nth 22 b))
         (b23 (nth 23 b))
         (b24 (nth 24 b))
         (b25 (nth 25 b))
         (b26 (nth 26 b))
         (b27 (nth 27 b))
         (b28 (nth 28 b))
         (b29 (nth 29 b))
         (b30 (nth 30 b))
         (b31 (nth 31 b))
         (add1 (f74181-netlist )))))
